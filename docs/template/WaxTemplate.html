<!DOCTYPE html>

<html>
<head>
  <title>WaxTemplate.php</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="layout.css" />
  <style>
    /*--------------------- Layout and Typography ----------------------------*/
body { font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, FreeSerif, serif; font-size: 15px; line-height: 22px; color: #252519; margin: 0; padding: 0;
}
a { color: #261a3b;
} a:visited { color: #261a3b; }
p { margin: 0 0 15px 0;
}
h1, h2, h3, h4, h5, h6 { margin: 40px 0 15px 0;
} h3, h4, h5, h6 { margin-top: 20px; }
#container { position: relative;
}
#background { position: fixed; top: 0; left: 575px; right: 0; bottom: 0; background: #f5f5ff; border-left: 1px solid #e5e5ee; z-index: -1;
}
#jump_to, #jump_page { background: white; -webkit-box-shadow: 0 0 25px #777; -moz-box-shadow: 0 0 25px #777; -webkit-border-bottom-left-radius: 5px; -moz-border-radius-bottomleft: 5px; font: 10px Arial; text-transform: uppercase; cursor: pointer; text-align: right;
}
#jump_to, #jump_wrapper { position: fixed; right: 0; top: 0; padding: 5px 10px;
} #jump_wrapper { padding: 0; display: none; } #jump_to:hover #jump_wrapper { display: block; } #jump_page { padding: 5px 0 3px; margin: 0 0 25px 25px; overflow:hidden; } #jump_page .source { display: block; padding: 5px 10px; text-decoration: none; border-top: 1px solid #eee; float:left; min-width:180px; text-align:left; text-transform:none; font-size:11px; } #jump_page .source:hover { background: #f5f5ff; } #jump_page .source:first-child { }
table td { border: 0; outline: 0;
} td.docs, th.docs { max-width: 450px; min-width: 450px; min-height: 5px; padding: 10px 25px 1px 50px; overflow-x: hidden; vertical-align: top; text-align: left; } .docs pre { margin: 15px 0 15px; padding-left: 15px; } .docs p tt, .docs p code { background: #f8f8ff; border: 1px solid #dedede; font-size: 12px; padding: 0 0.2em; } .pilwrap { position: relative; } .pilcrow { font: 12px Arial; text-decoration: none; color: #454545; position: absolute; top: 3px; left: -20px; padding: 1px 2px; opacity: 0; -webkit-transition: opacity 0.2s linear; } td.docs:hover .pilcrow { opacity: 1; } td.code, th.code { padding: 14px 15px 16px 25px; width: 100%; vertical-align: top; background: #f5f5ff; border-left: 1px solid #e5e5ee; } pre, tt, code { font-size: 12px; line-height: 18px; font-family: Monaco, Consolas, "Lucida Console", monospace; margin: 0; padding: 0; } /*---------------------- Syntax Highlighting -----------------------------*/
td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
body .hll { background-color: #ffffcc }
body .c { color: #408080; font-style: italic } /* Comment */
body .err { border: 1px solid #FF0000 } /* Error */
body .k { color: #954121 } /* Keyword */
body .o { color: #666666 } /* Operator */
body .cm { color: #408080; font-style: italic } /* Comment.Multiline */
body .cp { color: #BC7A00 } /* Comment.Preproc */
body .c1 { color: #408080; font-style: italic } /* Comment.Single */
body .cs { color: #408080; font-style: italic } /* Comment.Special */
body .gd { color: #A00000 } /* Generic.Deleted */
body .ge { font-style: italic } /* Generic.Emph */
body .gr { color: #FF0000 } /* Generic.Error */
body .gh { color: #000080; font-weight: bold } /* Generic.Heading */
body .gi { color: #00A000 } /* Generic.Inserted */
body .go { color: #808080 } /* Generic.Output */
body .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
body .gs { font-weight: bold } /* Generic.Strong */
body .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
body .gt { color: #0040D0 } /* Generic.Traceback */
body .kc { color: #954121 } /* Keyword.Constant */
body .kd { color: #954121; font-weight: bold } /* Keyword.Declaration */
body .kn { color: #954121; font-weight: bold } /* Keyword.Namespace */
body .kp { color: #954121 } /* Keyword.Pseudo */
body .kr { color: #954121; font-weight: bold } /* Keyword.Reserved */
body .kt { color: #B00040 } /* Keyword.Type */
body .m { color: #666666 } /* Literal.Number */
body .s { color: #219161 } /* Literal.String */
body .na { color: #7D9029 } /* Name.Attribute */
body .nb { color: #954121 } /* Name.Builtin */
body .nc { color: #0000FF; font-weight: bold } /* Name.Class */
body .no { color: #880000 } /* Name.Constant */
body .nd { color: #AA22FF } /* Name.Decorator */
body .ni { color: #999999; font-weight: bold } /* Name.Entity */
body .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
body .nf { color: #0000FF } /* Name.Function */
body .nl { color: #A0A000 } /* Name.Label */
body .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
body .nt { color: #954121; font-weight: bold } /* Name.Tag */
body .nv { color: #19469D } /* Name.Variable */
body .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
body .w { color: #bbbbbb } /* Text.Whitespace */
body .mf { color: #666666 } /* Literal.Number.Float */
body .mh { color: #666666 } /* Literal.Number.Hex */
body .mi { color: #666666 } /* Literal.Number.Integer */
body .mo { color: #666666 } /* Literal.Number.Oct */
body .sb { color: #219161 } /* Literal.String.Backtick */
body .sc { color: #219161 } /* Literal.String.Char */
body .sd { color: #219161; font-style: italic } /* Literal.String.Doc */
body .s2 { color: #219161 } /* Literal.String.Double */
body .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
body .sh { color: #219161 } /* Literal.String.Heredoc */
body .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
body .sx { color: #954121 } /* Literal.String.Other */
body .sr { color: #BB6688 } /* Literal.String.Regex */
body .s1 { color: #219161 } /* Literal.String.Single */
body .ss { color: #19469D } /* Literal.String.Symbol */
body .bp { color: #954121 } /* Name.Builtin.Pseudo */
body .vc { color: #19469D } /* Name.Variable.Class */
body .vg { color: #19469D } /* Name.Variable.Global */
body .vi { color: #19469D } /* Name.Variable.Instance */
body .il { color: #666666 } /* Literal.Number.Integer.Long */ /********** PHP Comment Additions ********/
td.docs .docparam {color:#DB251A;font-weight:bold;}
  </style>
</head>
<body>
  <div id="container">
    <div id="background"></div>
          <div id="jump_to">
        Jump To &hellip;
        <div id="jump_wrapper">
          <div id="jump_page">
                                        <a class="source" href="../auth/WaxAuthDb.html">
                              WaxAuthDb.php              </a>
                                        <a class="source" href="..//AutoLoader.html">
                              AutoLoader.php              </a>
                                        <a class="source" href="../cache/engines/WaxCacheBackgroundFile.html">
                              WaxCacheBackgroundFile.php              </a>
                                        <a class="source" href="../cache/engines/WaxCacheBackgroundMemcache.html">
                              WaxCacheBackgroundMemcache.php              </a>
                                        <a class="source" href="../cache/engines/WaxCacheFile.html">
                              WaxCacheFile.php              </a>
                                        <a class="source" href="../cache/engines/WaxCacheFilesystem.html">
                              WaxCacheFilesystem.php              </a>
                                        <a class="source" href="../cache/engines/WaxCacheImage.html">
                              WaxCacheImage.php              </a>
                                        <a class="source" href="../cache/engines/WaxCacheMemcache.html">
                              WaxCacheMemcache.php              </a>
                                        <a class="source" href="../cache/engines/WaxCacheMemory.html">
                              WaxCacheMemory.php              </a>
                                        <a class="source" href="../cache/engines/WaxRegenFileCache.html">
                              WaxRegenFileCache.php              </a>
                                        <a class="source" href="../cache/engines/WaxRegenMemcacheCache.html">
                              WaxRegenMemcacheCache.php              </a>
                                        <a class="source" href="../cache/WaxCache.html">
                              WaxCache.php              </a>
                                        <a class="source" href="../cache/WaxCacheHelper.html">
                              WaxCacheHelper.php              </a>
                                        <a class="source" href="../cache/WaxCacheLoader.html">
                              WaxCacheLoader.php              </a>
                                        <a class="source" href="../core/WaxApplication.html">
                              WaxApplication.php              </a>
                                        <a class="source" href="../core/WaxEvent.html">
                              WaxEvent.php              </a>
                                        <a class="source" href="../db/adapters/WaxMysqlAdapter.html">
                              WaxMysqlAdapter.php              </a>
                                        <a class="source" href="../db/adapters/WaxSqliteAdapter.html">
                              WaxSqliteAdapter.php              </a>
                                        <a class="source" href="../db/fields/AutoField.html">
                              AutoField.php              </a>
                                        <a class="source" href="../db/fields/BooleanField.html">
                              BooleanField.php              </a>
                                        <a class="source" href="../db/fields/CharField.html">
                              CharField.php              </a>
                                        <a class="source" href="../db/fields/DateTimeField.html">
                              DateTimeField.php              </a>
                                        <a class="source" href="../db/fields/EmailField.html">
                              EmailField.php              </a>
                                        <a class="source" href="../db/fields/FileField.html">
                              FileField.php              </a>
                                        <a class="source" href="../db/fields/FloatField.html">
                              FloatField.php              </a>
                                        <a class="source" href="../db/fields/ForeignKey.html">
                              ForeignKey.php              </a>
                                        <a class="source" href="../db/fields/HasManyField.html">
                              HasManyField.php              </a>
                                        <a class="source" href="../db/fields/IntegerField.html">
                              IntegerField.php              </a>
                                        <a class="source" href="../db/fields/ManyToManyField.html">
                              ManyToManyField.php              </a>
                                        <a class="source" href="../db/fields/PasswordField.html">
                              PasswordField.php              </a>
                                        <a class="source" href="../db/fields/TextField.html">
                              TextField.php              </a>
                                        <a class="source" href="../db/WaxDbAdapter.html">
                              WaxDbAdapter.php              </a>
                                        <a class="source" href="../db/WaxModel.html">
                              WaxModel.php              </a>
                                        <a class="source" href="../db/WaxModelAssociation.html">
                              WaxModelAssociation.php              </a>
                                        <a class="source" href="../db/WaxModelField.html">
                              WaxModelField.php              </a>
                                        <a class="source" href="../db/WaxModelJoin.html">
                              WaxModelJoin.php              </a>
                                        <a class="source" href="../db/WaxModelOrderedJoin.html">
                              WaxModelOrderedJoin.php              </a>
                                        <a class="source" href="../db/WaxPaginatedRecordset.html">
                              WaxPaginatedRecordset.php              </a>
                                        <a class="source" href="../db/WaxRecordset.html">
                              WaxRecordset.php              </a>
                                        <a class="source" href="../db/WaxTreeModel.html">
                              WaxTreeModel.php              </a>
                                        <a class="source" href="../db/WaxTreeRecordset.html">
                              WaxTreeRecordset.php              </a>
                                        <a class="source" href="../dispatch/WaxController.html">
                              WaxController.php              </a>
                                        <a class="source" href="../dispatch/WaxResponse.html">
                              WaxResponse.php              </a>
                                        <a class="source" href="../dispatch/WaxUrl.html">
                              WaxUrl.php              </a>
                                        <a class="source" href="../exceptions/MaintenanceException.html">
                              MaintenanceException.php              </a>
                                        <a class="source" href="../exceptions/WaxDbException.html">
                              WaxDbException.php              </a>
                                        <a class="source" href="../exceptions/WaxDBStructureException.html">
                              WaxDBStructureException.php              </a>
                                        <a class="source" href="../exceptions/WaxDependencyException.html">
                              WaxDependencyException.php              </a>
                                        <a class="source" href="../exceptions/WaxEmailException.html">
                              WaxEmailException.php              </a>
                                        <a class="source" href="../exceptions/WaxException.html">
                              WaxException.php              </a>
                                        <a class="source" href="../exceptions/WaxPermissionsException.html">
                              WaxPermissionsException.php              </a>
                                        <a class="source" href="../exceptions/WaxSqlException.html">
                              WaxSqlException.php              </a>
                                        <a class="source" href="../exceptions/WaxUserException.html">
                              WaxUserException.php              </a>
                                        <a class="source" href="../exceptions/WXException.html">
                              WXException.php              </a>
                                        <a class="source" href="../exceptions/WXRoutingException.html">
                              WXRoutingException.php              </a>
                                        <a class="source" href="../forms/WaxBoundForm.html">
                              WaxBoundForm.php              </a>
                                        <a class="source" href="../forms/WaxForm.html">
                              WaxForm.php              </a>
                                        <a class="source" href="../forms/WaxRecordsetForm.html">
                              WaxRecordsetForm.php              </a>
                                        <a class="source" href="../forms/WaxUnboundForm.html">
                              WaxUnboundForm.php              </a>
                                        <a class="source" href="../forms/WaxValidate.html">
                              WaxValidate.php              </a>
                                        <a class="source" href="../forms/WaxWidget.html">
                              WaxWidget.php              </a>
                                        <a class="source" href="../forms/widgets/CheckboxInput.html">
                              CheckboxInput.php              </a>
                                        <a class="source" href="../forms/widgets/CountrySelectInput.html">
                              CountrySelectInput.php              </a>
                                        <a class="source" href="../forms/widgets/DateInput.html">
                              DateInput.php              </a>
                                        <a class="source" href="../forms/widgets/DateSelectInput.html">
                              DateSelectInput.php              </a>
                                        <a class="source" href="../forms/widgets/FileInput.html">
                              FileInput.php              </a>
                                        <a class="source" href="../forms/widgets/HiddenInput.html">
                              HiddenInput.php              </a>
                                        <a class="source" href="../forms/widgets/ImageSubmitInput.html">
                              ImageSubmitInput.php              </a>
                                        <a class="source" href="../forms/widgets/MultipleSelectInput.html">
                              MultipleSelectInput.php              </a>
                                        <a class="source" href="../forms/widgets/PasswordInput.html">
                              PasswordInput.php              </a>
                                        <a class="source" href="../forms/widgets/SelectInput.html">
                              SelectInput.php              </a>
                                        <a class="source" href="../forms/widgets/SubmitInput.html">
                              SubmitInput.php              </a>
                                        <a class="source" href="../forms/widgets/TextareaInput.html">
                              TextareaInput.php              </a>
                                        <a class="source" href="../forms/widgets/TextInput.html">
                              TextInput.php              </a>
                                        <a class="source" href="../helpers/AssetTagHelper.html">
                              AssetTagHelper.php              </a>
                                        <a class="source" href="../helpers/deprecated/FormBuilderHelper.html">
                              FormBuilderHelper.php              </a>
                                        <a class="source" href="../helpers/deprecated/FormHelper.html">
                              FormHelper.php              </a>
                                        <a class="source" href="../helpers/deprecated/FormOptionsHelper.html">
                              FormOptionsHelper.php              </a>
                                        <a class="source" href="../helpers/deprecated/FormTagHelper.html">
                              FormTagHelper.php              </a>
                                        <a class="source" href="../helpers/RequestHelper.html">
                              RequestHelper.php              </a>
                                        <a class="source" href="../helpers/UrlHelper.html">
                              UrlHelper.php              </a>
                                        <a class="source" href="../helpers/WXHelpers.html">
                              WXHelpers.php              </a>
                                        <a class="source" href="../interfaces/Cacheable.html">
                              Cacheable.php              </a>
                                        <a class="source" href="../interfaces/CacheEngine.html">
                              CacheEngine.php              </a>
                                        <a class="source" href="../template/WaxPartial.html">
                              WaxPartial.php              </a>
                                        <a class="source" href="../template/WaxPartialHelper.html">
                              WaxPartialHelper.php              </a>
                                        <a class="source" href="../template/WaxTemplate.html">
                              WaxTemplate.php              </a>
                                        <a class="source" href="../testing/WXTestCase.html">
                              WXTestCase.php              </a>
                                        <a class="source" href="../testing/WXWebTestCase.html">
                              WXWebTestCase.php              </a>
                                        <a class="source" href="../tests/TestConfig.html">
                              TestConfig.php              </a>
                                        <a class="source" href="../tests/TestInflections.html">
                              TestInflections.php              </a>
                                        <a class="source" href="../tests/TestPaginatedRecordset.html">
                              TestPaginatedRecordset.php              </a>
                                        <a class="source" href="../tests/TestRequest.html">
                              TestRequest.php              </a>
                                        <a class="source" href="../tests/TestWaxAuthDb.html">
                              TestWaxAuthDb.php              </a>
                                        <a class="source" href="../tests/TestWaxController.html">
                              TestWaxController.php              </a>
                                        <a class="source" href="../tests/TestWaxModel.html">
                              TestWaxModel.php              </a>
                                        <a class="source" href="../tests/TestWaxModelField.html">
                              TestWaxModelField.php              </a>
                                        <a class="source" href="../tests/TestWaxTreeModel.html">
                              TestWaxTreeModel.php              </a>
                                        <a class="source" href="../tests/TestWaxUrl.html">
                              TestWaxUrl.php              </a>
                                        <a class="source" href="../tests/TestWXEmail.html">
                              TestWXEmail.php              </a>
                                        <a class="source" href="../utilities/Config.html">
                              Config.php              </a>
                                        <a class="source" href="../utilities/deprecated/WXEmail.html">
                              WXEmail.php              </a>
                                        <a class="source" href="../utilities/deprecated/WXScripts.html">
                              WXScripts.php              </a>
                                        <a class="source" href="../utilities/File.html">
                              File.php              </a>
                                        <a class="source" href="../utilities/Inflections.html">
                              Inflections.php              </a>
                                        <a class="source" href="../utilities/Profiler.html">
                              Profiler.php              </a>
                                        <a class="source" href="../utilities/Request.html">
                              Request.php              </a>
                                        <a class="source" href="../utilities/Session.html">
                              Session.php              </a>
                                        <a class="source" href="../utilities/Spyc.html">
                              Spyc.php              </a>
                                        <a class="source" href="../utilities/WaxCLI.html">
                              WaxCLI.php              </a>
                                        <a class="source" href="../utilities/WaxCodeGenerator.html">
                              WaxCodeGenerator.php              </a>
                                        <a class="source" href="../utilities/WaxEmail.html">
                              WaxEmail.php              </a>
                                        <a class="source" href="../utilities/WaxLog.html">
                              WaxLog.php              </a>
                      </div>
        </div>
      </div>
        <table cellpadding="0" cellspacing="0">
      <thead>
        <tr>
          <th class="docs">
            <h1>
              WaxTemplate.php            </h1>
          </th>
          <th class="code">
          </th>
        </tr>
      </thead>
      <tbody>
                  <tr id="section-0">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-0">&#182;</a>
              </div>
              <p><em class='docparam'>@package</em> PHP-Wax
<em class='docparam'>@author</em> Ross Riley</p>
            </td>
            <td class="code">
              <div class="highlight"><pre><span class="k">class</span> <span class="nc">WaxTemplate</span> <span class="k">implements</span> <span class="nx">Cacheable</span><span class="p">{</span></pre></div>            </td>
          </tr>
                  <tr id="section-1">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>interface vars </p>
            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="k">public</span> <span class="nv">$use_cache</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
  <span class="k">public</span> <span class="k">static</span> <span class="nv">$mime_types</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;json&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">,</span> <span class="s1">&#39;js&#39;</span><span class="o">=&gt;</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">,</span> <span class="s1">&#39;xml&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;application/xml&#39;</span><span class="p">);</span>
    
  
 <span class="k">public</span> <span class="k">static</span> <span class="nv">$response_filters</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
     <span class="s1">&#39;views&#39;</span><span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;self&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;render_view_response_filter&#39;</span><span class="p">)),</span>
    <span class="s1">&#39;layout&#39;</span><span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;self&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;render_layout_response_filter&#39;</span><span class="p">)),</span>
    <span class="s1">&#39;partial&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;self&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;render_partial_response_filter&#39;</span><span class="p">))</span>
   <span class="p">);</span>

 <span class="k">public</span> <span class="nv">$template_paths</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
 
 
 <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$values</span> <span class="o">=</span> <span class="k">array</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">foreach</span><span class="p">(</span><span class="nv">$values</span> <span class="k">as</span> <span class="nv">$var</span><span class="o">=&gt;</span><span class="nv">$val</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$this</span><span class="o">-&gt;</span><span class="p">{</span><span class="nv">$var</span><span class="p">}</span><span class="o">=</span><span class="nv">$val</span><span class="p">;</span>
    <span class="p">}</span>
 <span class="p">}</span>
 
 

 <span class="k">public</span> <span class="k">function</span> <span class="nf">add_path</span><span class="p">(</span><span class="nv">$path</span><span class="p">)</span> <span class="p">{</span>
   <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">template_paths</span><span class="p">[]</span><span class="o">=</span><span class="nv">$path</span><span class="p">;</span>
 <span class="p">}</span></pre></div>            </td>
          </tr>
                  <tr id="section-2">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Ok, this little beauty runs over config array of replace regexs
 and uses the available<em>domains list to allow certain src files
 to come from an alternative domain in order to improve concurrent
 downloads in the browser
<em class='docparam'>@param</em> string $buffer</em>string 
<em class='docparam'>@param</em> string $randomise_config 
<em class='docparam'>@return</em> void</p>
            </td>
            <td class="code">
              <div class="highlight"><pre> <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">randomise_source_domains</span><span class="p">(</span><span class="nv">$buffer_string</span><span class="p">,</span> <span class="nv">$randomise_config</span><span class="p">){</span>
   <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nb">is_array</span><span class="p">(</span><span class="nv">$randomise_config</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nv">$randomise_config</span> 
     <span class="o">||</span> <span class="o">!</span><span class="nb">count</span><span class="p">(</span><span class="nv">$randomise_config</span><span class="p">[</span><span class="s1">&#39;available_domains&#39;</span><span class="p">])</span> <span class="o">||</span> <span class="o">!</span><span class="nb">count</span><span class="p">(</span><span class="nv">$randomise_config</span><span class="p">[</span><span class="s1">&#39;replace&#39;</span><span class="p">]))</span> <span class="k">return</span> <span class="nv">$buffer_string</span><span class="p">;</span></pre></div>            </td>
          </tr>
                  <tr id="section-3">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>check exclusions</p>
            </td>
            <td class="code">
              <div class="highlight"><pre>   <span class="k">if</span><span class="p">(</span><span class="nv">$randomise_config</span> <span class="o">&amp;&amp;</span> <span class="nb">is_array</span><span class="p">(</span><span class="nv">$randomise_config</span><span class="p">[</span><span class="s1">&#39;exclusions&#39;</span><span class="p">])){</span>
     <span class="k">foreach</span><span class="p">(</span><span class="nv">$randomise_config</span><span class="p">[</span><span class="s1">&#39;exclusions&#39;</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$name</span> <span class="o">=&gt;</span> <span class="nv">$regex</span><span class="p">){</span>
       <span class="nb">preg_match_all</span><span class="p">(</span><span class="nv">$regex</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_URI&#39;</span><span class="p">],</span> <span class="nv">$matches</span><span class="p">);</span>       
       <span class="k">if</span><span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$matches</span><span class="p">[</span><span class="m">0</span><span class="p">]))</span> <span class="k">return</span> <span class="nv">$buffer_string</span><span class="p">;</span>
     <span class="p">}</span>
   <span class="p">}</span>
   <span class="nv">$domains</span> <span class="o">=</span> <span class="nv">$randomise_config</span><span class="p">[</span><span class="s1">&#39;available_domains&#39;</span><span class="p">];</span>
   <span class="nv">$patterns</span> <span class="o">=</span> <span class="nv">$randomise_config</span><span class="p">[</span><span class="s1">&#39;replace&#39;</span><span class="p">];</span>
   <span class="k">foreach</span><span class="p">(</span><span class="nv">$patterns</span> <span class="k">as</span> <span class="nv">$pattern</span><span class="p">)</span> <span class="nv">$buffer_string</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="na">replace_source_domains</span><span class="p">(</span><span class="nv">$buffer_string</span><span class="p">,</span> <span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$domains</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$buffer_string</span><span class="p">;</span>
 <span class="p">}</span></pre></div>            </td>
          </tr>
                  <tr id="section-4">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>use the regex passed in to replace the content of the buffer<em>string with the new 
 source domains
<em class='docparam'>@param</em> string $buffer</em>string 
<em class='docparam'>@param</em> string $pattern 
<em class='docparam'>@param</em> string $domains 
<em class='docparam'>@return</em> void</p>
            </td>
            <td class="code">
              <div class="highlight"><pre> <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">replace_source_domains</span><span class="p">(</span><span class="nv">$buffer_string</span><span class="p">,</span> <span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$domains</span><span class="p">){</span>
   <span class="k">if</span><span class="p">(</span><span class="nv">$pattern_position</span> <span class="o">&gt;</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$patterns</span><span class="p">))</span> <span class="k">return</span> <span class="nv">$buffer_string</span><span class="p">;</span>
   <span class="nv">$modified_string</span> <span class="o">=</span> <span class="nv">$buffer_string</span><span class="p">;</span>
    <span class="nb">preg_match_all</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$modified_string</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">,</span>  <span class="nx">PREG_SET_ORDER</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$matches</span><span class="p">)){</span>
      <span class="nv">$domain_count</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
      <span class="k">foreach</span><span class="p">(</span><span class="nv">$matches</span> <span class="k">as</span> <span class="nv">$match</span><span class="p">){</span>
        <span class="nv">$original</span> <span class="o">=</span> <span class="nv">$match</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
        <span class="nv">$str</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;https&#39;</span><span class="p">])</span> <span class="o">?</span> <span class="s2">&quot;https://&quot;</span> <span class="o">:</span> <span class="s2">&quot;http://&quot;</span><span class="p">;</span>
        <span class="nv">$str</span> <span class="o">.=</span> <span class="nv">$domains</span><span class="p">[</span><span class="nv">$domain_count</span><span class="p">];</span>
        <span class="nv">$new</span> <span class="o">=</span> <span class="nb">str_ireplace</span><span class="p">(</span><span class="nv">$match</span><span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="nv">$str</span><span class="o">.</span><span class="nv">$match</span><span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="nv">$original</span><span class="p">);</span>
        <span class="nv">$modified_string</span> <span class="o">=</span> <span class="nb">str_ireplace</span><span class="p">(</span><span class="nv">$original</span><span class="p">,</span> <span class="nv">$new</span><span class="p">,</span> <span class="nv">$modified_string</span><span class="p">);</span>
        <span class="nv">$domain_count</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$domain_count</span> <span class="o">&gt;=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$domains</span><span class="p">))</span> <span class="nv">$domain_count</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$modified_string</span><span class="p">;</span>
 <span class="p">}</span></pre></div>            </td>
          </tr>
                  <tr id="section-5">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>default static function to provide a before hook to rendering views 
 lets you do things like replacing markdown style code with proper html etc
 As these defaults simply return whats passed in then we need to discard the 
 current buffer so no duplication of content
<em class='docparam'>@param</em> string $buffer_string 
<em class='docparam'>@return</em> string
<em class='docparam'>@author</em> charles marshall</p>
            </td>
            <td class="code">
              <div class="highlight"><pre> <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">render_view_response_filter</span><span class="p">(</span><span class="nv">$buffer_string</span><span class="p">,</span> <span class="nv">$template</span> <span class="o">=</span> <span class="k">false</span><span class="p">){</span>  
  <span class="k">return</span> <span class="nv">$buffer_string</span><span class="p">;</span>
 <span class="p">}</span></pre></div>            </td>
          </tr>
                  <tr id="section-6">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>default static function to give a before hook on rendering a layout
 again design so you can manipulate the content of the buffer to allow transformations of content etc
<em class='docparam'>@param</em> string $buffer_string 
<em class='docparam'>@return</em> string
<em class='docparam'>@author</em> charles marshall</p>
            </td>
            <td class="code">
              <div class="highlight"><pre> <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">render_layout_response_filter</span><span class="p">(</span><span class="nv">$buffer_string</span><span class="p">,</span> <span class="nv">$template</span> <span class="o">=</span> <span class="k">false</span><span class="p">){</span>
   <span class="k">if</span><span class="p">(</span><span class="nv">$randomise</span> <span class="o">=</span> <span class="nx">Config</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;randomise_domains&#39;</span><span class="p">))</span> <span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="na">randomise_source_domains</span><span class="p">(</span><span class="nv">$buffer_string</span><span class="p">,</span> <span class="nv">$randomise</span><span class="p">);</span>
   <span class="k">else</span> <span class="k">return</span> <span class="nv">$buffer_string</span><span class="p">;</span>
 <span class="p">}</span></pre></div>            </td>
          </tr>
                  <tr id="section-7">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>default static function to give a before hook on rendering a partial
 again design so you can manipulate the content of the buffer to allow transformations of content etc
<em class='docparam'>@param</em> string $buffer_string 
<em class='docparam'>@return</em> string
<em class='docparam'>@author</em> charles marshall</p>
            </td>
            <td class="code">
              <div class="highlight"><pre> <span class="k">private</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">render_partial_response_filter</span><span class="p">(</span><span class="nv">$buffer_string</span><span class="p">,</span> <span class="nv">$template</span> <span class="o">=</span> <span class="k">false</span><span class="p">){</span>
  <span class="k">return</span> <span class="nv">$buffer_string</span><span class="p">;</span>
 <span class="p">}</span></pre></div>            </td>
          </tr>
                  <tr id="section-8">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>loop over the registered response filters and pass off function calls to the model and method specified
 gives you ability to manipulate buffer content, send to cache etc
<em class='docparam'>@param</em> string $type 
<em class='docparam'>@return</em> void
<em class='docparam'>@author</em> charles marshall</p>
            </td>
            <td class="code">
              <div class="highlight"><pre> <span class="k">private</span> <span class="k">function</span> <span class="nf">response_filter</span><span class="p">(</span><span class="nv">$type</span><span class="p">){</span>
  <span class="nv">$return</span> <span class="o">=</span> <span class="nb">ob_get_contents</span><span class="p">();</span>
  <span class="nb">ob_end_clean</span><span class="p">();</span>
  <span class="k">foreach</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="nv">$response_filters</span><span class="p">[</span><span class="nv">$type</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$filter</span><span class="p">){</span>
   <span class="nv">$return</span> <span class="o">=</span> <span class="nb">call_user_func</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$filter</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">],</span> <span class="nv">$filter</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]),</span> <span class="nv">$return</span><span class="p">,</span> <span class="nv">$this</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nv">$return</span><span class="p">;</span>
 <span class="p">}</span>
 
 <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">add_response_filter</span><span class="p">(</span><span class="nv">$filter_type</span><span class="p">,</span> <span class="nv">$filter_name</span><span class="p">,</span> <span class="nv">$filter</span><span class="p">){</span>
  <span class="nx">self</span><span class="o">::</span><span class="nv">$response_filters</span><span class="p">[</span><span class="nv">$filter_type</span><span class="p">][</span><span class="nv">$filter_name</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$filter</span><span class="p">;</span>
 <span class="p">}</span>
 <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">remove_response_filter</span><span class="p">(</span><span class="nv">$filter_type</span><span class="p">,</span> <span class="nv">$filter_name</span><span class="p">){</span>
  <span class="nb">unset</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="nv">$response_filters</span><span class="p">[</span><span class="nv">$filter_type</span><span class="p">][</span><span class="nv">$filter_name</span><span class="p">]);</span>
 <span class="p">}</span>
 
 <span class="k">public</span> <span class="k">function</span> <span class="nf">parse</span><span class="p">(</span><span class="nv">$suffix</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="p">,</span> <span class="nv">$parse_as</span><span class="o">=</span><span class="s2">&quot;layout&quot;</span><span class="p">)</span> <span class="p">{</span>
   <span class="nb">ob_start</span><span class="p">();</span>
   <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$suffix</span><span class="p">)</span> <span class="nv">$suffix</span> <span class="o">=</span> <span class="s2">&quot;html&quot;</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$suffix</span><span class="p">,</span> <span class="nb">array_keys</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="nv">$mime_types</span><span class="p">)))</span> <span class="nv">$type</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$mime_types</span><span class="p">[</span><span class="nv">$suffix</span><span class="p">];</span>
    <span class="k">else</span> <span class="nv">$type</span> <span class="o">=</span> <span class="s2">&quot;text/&quot;</span><span class="o">.</span><span class="nv">$suffix</span><span class="p">;</span></pre></div>            </td>
          </tr>
                  <tr id="section-9">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>CACHE </p>
            </td>
            <td class="code">
              <div class="highlight"><pre>   <span class="k">if</span><span class="p">(</span><span class="nv">$cache_object</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_enabled</span><span class="p">(</span><span class="nv">$parse_as</span><span class="p">)){</span></pre></div>            </td>
          </tr>
                  <tr id="section-10">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>change the suffix if not html - so .xml files etc cache seperately</p>
            </td>
            <td class="code">
              <div class="highlight"><pre>     <span class="k">if</span><span class="p">(</span><span class="nv">$suffix</span> <span class="o">!=</span> <span class="s2">&quot;html&quot;</span><span class="p">)</span> <span class="nv">$cache_object</span><span class="o">-&gt;</span><span class="na">suffix</span> <span class="o">=</span> <span class="nv">$suffix</span><span class="o">.</span><span class="s1">&#39;.cache&#39;</span><span class="p">;</span>
     <span class="k">if</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cached</span><span class="p">(</span><span class="nv">$cache_object</span><span class="p">,</span> <span class="nv">$parse_as</span><span class="p">)</span> <span class="p">)</span> <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cached</span><span class="p">(</span><span class="nv">$cache_object</span><span class="p">,</span> <span class="nv">$parse_as</span><span class="p">);</span>     
    <span class="p">}</span>
    
   <span class="k">foreach</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">template_paths</span> <span class="k">as</span> <span class="nv">$path</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span><span class="p">(</span><span class="nb">is_readable</span><span class="p">(</span><span class="nv">$path</span><span class="o">.</span><span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="nv">$suffix</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$view_file</span> <span class="o">=</span> <span class="nv">$path</span><span class="o">.</span><span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="nv">$suffix</span><span class="p">;</span>
    <span class="k">break</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="p">}</span>
  <span class="nb">extract</span><span class="p">((</span><span class="k">array</span><span class="p">)</span><span class="nv">$this</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nb">is_readable</span><span class="p">(</span><span class="nv">$view_file</span><span class="p">))</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">WaxException</span><span class="p">(</span><span class="s2">&quot;Unable to find &quot;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">template_paths</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="nv">$suffix</span><span class="p">,</span> <span class="s2">&quot;Missing Template File&quot;</span><span class="p">,</span> <span class="nb">print_r</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">template_paths</span><span class="p">,</span> <span class="m">1</span><span class="p">));</span>
  
  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">include</span><span class="p">(</span><span class="nv">$view_file</span><span class="p">))</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">WaxUserException</span><span class="p">(</span><span class="s2">&quot;PHP parse error in </span><span class="si">$view_file</span><span class="s2">&quot;</span><span class="p">);</span>
  <span class="nv">$content</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">response_filter</span><span class="p">(</span><span class="nv">$parse_as</span><span class="p">);</span>
  
  <span class="k">if</span><span class="p">(</span><span class="nv">$cache_object</span> <span class="o">&amp;&amp;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cacheable</span><span class="p">(</span><span class="nv">$cache_object</span><span class="p">,</span> <span class="nv">$type</span><span class="p">))</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_set</span><span class="p">(</span><span class="nv">$cache_object</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>
  <span class="k">return</span> <span class="nv">$content</span><span class="p">;</span>
 <span class="p">}</span>
 
 <span class="k">public</span> <span class="k">function</span> <span class="nf">add_values</span><span class="p">(</span><span class="nv">$vals_array</span><span class="o">=</span><span class="k">array</span><span class="p">())</span> <span class="p">{</span>
   <span class="k">foreach</span><span class="p">(</span><span class="nv">$vals_array</span> <span class="k">as</span> <span class="nv">$var</span><span class="o">=&gt;</span><span class="nv">$val</span><span class="p">)</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="p">{</span><span class="nv">$var</span><span class="p">}</span><span class="o">=</span><span class="nv">$val</span><span class="p">;</span>
 <span class="p">}</span></pre></div>            </td>
          </tr>
                  <tr id="section-11">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>INTERFACE METHODS </p>
            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="k">public</span> <span class="k">function</span> <span class="nf">cache_identifier</span><span class="p">(</span><span class="nv">$model</span><span class="p">){</span>    
    <span class="k">return</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">identifier</span><span class="p">();</span>
  <span class="p">}</span>
  
  <span class="k">public</span> <span class="k">function</span> <span class="nf">cacheable</span><span class="p">(</span><span class="nv">$model</span><span class="p">,</span> <span class="nv">$type</span><span class="p">){</span>    
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$model</span><span class="o">-&gt;</span><span class="na">excluded</span><span class="p">(</span><span class="nv">$model</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">included</span><span class="p">(</span><span class="nv">$model</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">))</span> <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
  <span class="p">}</span>
 <span class="k">public</span> <span class="k">function</span> <span class="nf">cached</span><span class="p">(</span><span class="nv">$model</span><span class="p">,</span> <span class="nv">$type</span><span class="p">){</span>
   <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cacheable</span><span class="p">(</span><span class="nv">$model</span><span class="p">,</span> <span class="nv">$type</span><span class="p">))</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
   <span class="k">else</span> <span class="k">return</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
 <span class="p">}</span>
  <span class="k">public</span> <span class="k">function</span> <span class="nf">cache_set</span><span class="p">(</span><span class="nv">$model</span><span class="p">,</span> <span class="nv">$value</span><span class="p">){</span>

    <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">public</span> <span class="k">function</span> <span class="nf">cache_enabled</span><span class="p">(</span><span class="nv">$type</span><span class="p">){</span>
    <span class="nv">$check</span> <span class="o">=</span> <span class="nv">$type</span><span class="o">.</span><span class="s2">&quot;_cache&quot;</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">use_cache</span> <span class="o">&amp;&amp;</span> <span class="nb">is_array</span><span class="p">(</span><span class="nx">Config</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="nv">$check</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nb">count</span><span class="p">(</span><span class="nx">Config</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="nv">$check</span><span class="p">))){</span>      
      <span class="nv">$cache_config</span> <span class="o">=</span> <span class="nx">Config</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="nv">$check</span><span class="p">);</span>
      <span class="nv">$cache_engine</span> <span class="o">=</span> <span class="nv">$cache_config</span><span class="p">[</span><span class="s1">&#39;engine&#39;</span><span class="p">];</span>
      <span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$cache_config</span><span class="p">[</span><span class="s1">&#39;lifetime&#39;</span><span class="p">]))</span> <span class="nv">$cache_lifetime</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_config</span><span class="p">[</span><span class="s1">&#39;lifetime&#39;</span><span class="p">];</span>
      <span class="nv">$cache_object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WaxCacheLoader</span><span class="p">(</span><span class="nv">$cache_config</span><span class="p">,</span> <span class="nx">CACHE_DIR</span><span class="o">.</span><span class="nv">$type</span><span class="o">.</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="nv">$cache_lifetime</span><span class="p">);</span>
      <span class="nv">$cache_object</span><span class="o">-&gt;</span><span class="na">identifier</span> <span class="o">=</span> <span class="nv">$cache_object</span><span class="o">-&gt;</span><span class="na">identifier</span><span class="p">();</span>      
      <span class="k">return</span> <span class="nv">$cache_object</span><span class="p">;</span>
    <span class="p">}</span><span class="k">else</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div></pre></div>            </td>
          </tr>
              </tbody>
    </table>
  </div>
</body>
</html>
